1章 ペネトレーションテストの基本
ペネトレーションテストとは攻撃者がセキュリティコントロールを回避し組織のシステムへアクセスするために使う
可能性のある手法をシミュレートする手法。
Penetration Testing Execution Standard(PTES)はペネトレーションテストを再定義しており、
初心者にも熟練者にも影響を与えたもの。
http://www.pentest-standard.org/index.php/Main_Page

PTESのフェーズ
1.事前契約のやりとり
  クライアントとペネトレーションテストの範囲及び条件について話し合う。
  全範囲に及ぶ完全なペネトレーションテストに期待できるものについて説明する機会。
2.インテリジェンスギャザリング
  インテリジェンスギャザリング段階では攻撃する組織について
  SNS、Googleハッキング、ターゲットのフットプリンティングなどにより情報を収集する。
  テスターにとって重要なスキルの1つ。
  攻撃する際、ブロックされてもよいIPアドレスで試すのはひとつの手法。
  自身のPCやチームのPCと紐づいていないものにすること。
3.脅威モデリング
  脅威モデリングはインテリジェンスギャザリングで収集した情報を用いて
  ターゲットシステム上の既存の脆弱性を識別する。脅威モデリングを実行する際、最も効果的な
  攻撃手法、探している情報の種類、組織をどう攻撃するかを判断する。
4.脆弱性分析
  最も実行可能性の高い攻撃手法が見つかったらターゲットへのアクセス方法を考える。
  脆弱性分析では先の段階で集めた情報と組み合わせどの攻撃の実行可能性が高いかを理解する。
  ポートスキャンや脆弱性スキャン、バナー収集によって得られた結果やインテリジェンスギャザリングで
  収集した情報を考慮する
5.エクスプロイト
  エクスプロイトは精密さよりブルートフォースで行われる。
  成功が疑いようのない余地に限り実行すべき。
  脆弱性を発現させるまえにシステムが脆弱かを把握すべき。
  むやみにエクスプロイトの猛攻を仕掛け期待するのは生産的ではない。
  下調べをした上で成功の確率が高い攻撃を仕掛けるべき
6.ポストエクスプロイト
  ポストエクスプロイトは特定のシステムをターゲットとし、重要なインフラを特定して守っているデータを狙う。
  攻撃するとき、さまざまなシステムが何をしているのかまたそれぞれのユーザの役割が何かを判断する時間をとるべき。
  ポストエクスプロイトはどんな情報が利用できるか、その情報を使って何のメリットがあるかを時間をかけて調べるべき。
7.報告書の作成
  最も重要なもの。重要なのは見つかった脆弱性に対し企業がどのように修正するかを伝えること。
  最低限、報告書を要旨、経営層向け、技術的知見は用意すべき。

公開ペネトレーションテスト
作業する企業とともに潜在的なセキュリティを見出し企業のIT、セキュリティチームに企業システムを案内してもらう。
公開テストの長所は社内情報にアクセスできることとブロックを心配する必要がないこと。
短所はクライアントの事故対応プログラムを効果的に判断できない、セキュリティプログラムが
特定の攻撃をどれだけ検出出来るか判断できない。
時間が限られているときに利用。

秘密ペネトレーションテスト
攻撃者の攻撃を模倣する。社内のセキュリティチームの検出能力と攻撃への対応能力を試すために実施。
公開テストよりも高いスキルが必要となる。
ただし実際の攻撃をシミュレートしているので秘密テストの方が好まれる。

脆弱性スキャナ
任意のシステムやアプリに影響を与える欠陥を見出すために使う自動化ツール。
脆弱性スキャナは非常に重要な役割を持っているので検出回避を気にせずに複数の攻撃を仕掛けるべき。
ただ収集した情報に依存しないこと。
熟練すれば脆弱性スキャナは必要なくなる。

